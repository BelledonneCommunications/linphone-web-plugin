<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Linphone Web</title>
		<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link type="text/css" href="style/reset.css" rel="stylesheet" />
		<!-- @if env='release' -->
		<link type="text/css" href="style/linphone-ui-<!-- @echo version -->.min.css" rel="stylesheet" />
		<!-- @endif -->
		<!-- @if env='debug' -->
		<link type="text/css" href="style/linphone-ui-<!-- @echo version -->.css" rel="stylesheet" />
		<!-- @endif -->
		<style type="text/css">
			body, html {
				height: 100%;
				font-size: 62.5%;
			}
		</style>
	</head>
	<body>

		<!-- @include ../modules/linphone.ui.base.html -->
		
		<script type="text/javascript">
			(function(w, d, s) {
				var scripts = [
					{url: "js/jquery.js"},
					{url: "js/jquery-ui.js"},
					{url: "js/jquery.mousewheel.js"},
					{url: "js/vertical.slider.js"},
					
					// <!-- @if env='release' -->
					{url: "js/linphone-core-<!-- @echo version -->.min.js"},
					{url: "js/linphone-ui-<!-- @echo version -->.min.js"},
					// <!-- @endif -->
					// <!-- @if env='debug' -->
					{url: "js/linphone-core-<!-- @echo version -->.js"},
					{url: "js/linphone-ui-<!-- @echo version -->.js"},
					// <!-- @endif -->
				];
				function go(){
					function getScript(url,success){
						var script=document.createElement('script');
						script.src=url;
						script.type="text/javascript";
						var head=document.getElementsByTagName('head')[0];
						var done=false;
						script.onload=script.onreadystatechange = function(){
							if ( !done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete') ) {
								done=true;
								success();
								script.onload = script.onreadystatechange = null;
								head.removeChild(script);
							}
						};
						head.appendChild(script);
					}
					function run(success) {
						if(scripts.length > 0) {
							var script = scripts[0];
							scripts.shift();
							getScript(script.url, 
								function() {
									run(success);
								}
							);
						} else {
							success();
						}
					}
					run(function () {
						jQuery('.linphoneweb').each(function (index) {
							linphone.ui.init(linphone.ui.getBase(jQuery(this)));
						});
					});
				}
				if (w.addEventListener) { 
					w.addEventListener("load", go, false); 
				} else if (w.attachEvent) { 
					w.attachEvent("onload",go); 
				}
			}(window, document, 'script'));
			
		</script>
	</body>
</html>
